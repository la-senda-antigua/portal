<div class="mobile-menu">
  <mat-toolbar>
    <strong>{{ title }}</strong>
    <span class="spacer"></span>
    <button mat-icon-button (click)="close.emit()">
      <mat-icon>close</mat-icon>
    </button>
  </mat-toolbar>

  <mat-accordion>
    @for (item of options; track item) {

    @if(hasChild(item)){
    <mat-expansion-panel hideToggle>
      <mat-expansion-panel-header [class.active]="isSelected(item)" (click)="setActiveOption(item)">
        <div class="header-menu"> {{ item.text }} </div>
      </mat-expansion-panel-header>

      @for(subItem of item.options; track subItem){
      <div class="sub-item">
        {{ subItem.text }}
      </div>
      }
    </mat-expansion-panel>
    } @else {
    <div class="header-menu"> {{ item.text }} </div>
    }
    }
  </mat-accordion>

  @if(button){
  <span class="spacer"></span>
  <a [routerLink]="button.link" mat-flat-button class="donate-button">
    {{ button.text }}
  </a>
  }
</div>
